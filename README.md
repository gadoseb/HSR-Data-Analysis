# ModularRig_ProcessRawData_V1.ipynb /ModularRig_ProcessRawData_V1_BST.ipynb Documentation
## 1. Data Information
| Filename | Example | Data type | No. Columns | Columns Header | Notes |
| --- | --- | --- | --- | --- | --- |
| ‘cycle No.’-YYYY-MM-DDThhhmm.csv | D47-2024-03-26T13h33.csv | 1 date-time
39 floats | 40 | runner_timestamp	
message_timestamp	
topic	
NTC1	
NTC2	
NTC3	
NTC4	
NTC5	
NTC6	
NTC7	
NTC8	
NTC9	
NTC10	
NTC11	
NTC12	
NTC13	
NTC14	
NTC15	
NTC16	
4-20mA Sensor 1	
4-20mA Sensor 2	
PID temperature	
Thermocouple limit temp	
MFC flow rate	
Strain 1	
Strain 2	
Strain 3	
Strain 4	
Strain 5	
Strain 6	
Strain 7	
Strain 8	
Strain 9	
Strain 10	
Strain 11	
Strain 12	
Solenoid States	
Heartbeat	
Sync Byte 1	
Sync Byte 2 | NTC* will be temperature data (not implemented yet 042024). Solenoid States: 0=idle, 5=abs, 58=des. |
|  |  |  |  |  |  |

## 2. Documentation
This script processes raw data files in CSV format generated by a MogRig system. It calculates the cumulative volume of a specific flow rate parameter over time and optionally resamples the data to a specified time period. The processed data is then saved as new CSV files for further analysis or visualization.

**Installation:**

No specific installation steps are required beyond having Python installed on your system. This script utilizes standard libraries such as **`os`**, **`pandas`**, **`scipy`**, **`datetime`**, and **`pytz`**, which are commonly available with Python distributions. Ensure these libraries are installed, which can typically be done via pip, e.g., **`pip install pandas scipy`**.

**Usage:**

To use this script, provide the path to the folder containing the raw CSV files (**`folder_path`**). Optionally, you can specify a resampling period (**`resample_period`**) if you want the data to be resampled. The processed files will be saved in the specified output folder (**`output_folder`**). Run the script, and it will process the files and save the results accordingly.

**Code Logic:**

1. **File Processing**: The script first lists all CSV files in the specified folder and raises an error if no CSV files are found.
2. **Data Processing**: It then iterates through each CSV file, reads it into a pandas DataFrame, and performs the following operations:
    - Drops unnecessary columns ("Sync Byte 1", "Sync Byte 2", "Heartbeat").
    - Converts the 'runner_timestamp' column to a datetime index from unix format.
    - Calculates time differences (**`delta_t`**) and relative time (**`t`**) based on the 'message_timestamp' column.
    - Computes the cumulative volume using the trapezoidal rule integration method.
    - Optionally resamples the data if a resampling period is provided.
3. **File Saving**: For each processed DataFrame, it constructs a new filename based on the original filename and the timestamp of the first data point. It then saves the processed DataFrame as a new CSV file in the specified output folder.

**Configuration:**

- **Folder Path (`folder_path`)**: Specify the path to the folder containing the raw CSV files to be processed.
- **Resample Period (`resample_period`)**: Optionally specify a resampling period for the data. Set to **`None`** if no resampling is desired.
- **Output Folder (`output_folder`)**: Specify the folder where the processed CSV files will be saved. If the folder doesn't exist, it will be created automatically.

Ensure that the input CSV files follow the expected format for proper processing.
